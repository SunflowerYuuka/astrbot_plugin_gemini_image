{
  "enable_llm_tool": {
    "description": "启用 LLM 工具",
    "hint": "启用后,LLM 可以在对话中自动调用图像生成功能",
    "type": "bool",
    "default": true
  },
  "api_config": {
    "description": "API 与 网络配置",
    "type": "object",
    "items": {
      "use_system_provider": {
        "description": "使用系统已有的提供商",
        "hint": "开启后将忽略下方的 Key 配置，自动使用 AstrBot 系统设置中的 Gemini 账号",
        "type": "bool",
        "default": true
      },
      "api_type": {
        "description": "API 接口类型",
        "hint": "通常选择 gemini",
        "type": "string",
        "default": "gemini",
        "options": [
          "gemini",
          "openai",
          "zai"
        ]
      },
      "provider_id": {
        "description": "选择系统提供商",
        "hint": "如果开启了'使用系统提供商'，请在此选择",
        "type": "string",
        "default": "",
        "_special": "select_provider"
      },
      "base_url": {
        "description": "API Base URL",
        "hint": "仅在不使用系统提供商时填写，默认为官方地址",
        "type": "string",
        "default": "https://generativelanguage.googleapis.com"
      },
      "api_key": {
        "description": "Gemini API Key",
        "hint": "仅在不使用系统提供商时填写",
        "type": "list",
        "default": []
      },
      "proxy": {
        "description": "代理地址 (Proxy)",
        "hint": "重要！如果你在中国大陆，必须填写此项 (如 http://127.0.0.1:7890)。配置后请使用指令 /gemini_test 测试连通性。",
        "type": "string",
        "default": ""
      },
      "model": {
        "description": "生图模型",
        "type": "string",
        "default": "gemini-2.5-flash-image",
        "options": [
          "gemini-2.0-flash-exp-image-generation",
          "gemini-2.5-flash-image",
          "gemini-2.5-flash-image-preview",
          "gemini-3-pro-image-preview",
          "自定义模型"
        ]
      },
      "custom_model": {
        "description": "自定义模型名称",
        "hint": "仅在上方选择 '自定义模型' 时生效",
        "type": "string",
        "default": ""
      }
    }
  },
  "generate_config": {
    "description": "生图参数配置",
    "type": "object",
    "items": {
      "safety_settings": {
        "description": "安全过滤级别",
        "type": "string",
        "default": "BLOCK_NONE",
        "options": [
          "BLOCK_NONE",
          "BLOCK_ONLY_HIGH",
          "BLOCK_MEDIUM_AND_ABOVE",
          "BLOCK_LOW_AND_ABOVE"
        ]
      },
      "timeout": {
        "description": "超时时间(秒)",
        "type": "int",
        "default": 300
      },
      "default_aspect_ratio": {
        "description": "默认宽高比",
        "type": "string",
        "default": "自动",
        "options": [
          "自动",
          "1:1",
          "2:3",
          "3:2",
          "3:4",
          "4:3",
          "4:5",
          "5:4",
          "9:16",
          "16:9",
          "21:9"
        ]
      },
      "default_resolution": {
        "description": "默认分辨率",
        "type": "string",
        "default": "2K",
        "options": [
          "1K",
          "2K",
          "4K"
        ]
      },
      "max_concurrent_generations": {
        "description": "最大并发数",
        "type": "int",
        "default": 3
      },
      "max_requests_per_minute": {
        "description": "单人每分钟限制",
        "type": "int",
        "default": 3
      },
      "max_image_size_mb": {
        "description": "最大参考图大小(MB)",
        "type": "int",
        "default": 10
      },
      "max_retry_attempts": {
        "description": "失败重试次数",
        "type": "int",
        "default": 3
      },
      "debug_mode": {
        "description": "调试模式",
        "hint": "开启后，出错时会显示详细的 API 错误信息",
        "type": "bool",
        "default": false
      }
    }
  },
  "whitelist_config": {
    "description": "权限白名单配置",
    "type": "object",
    "items": {
      "enable_whitelist": {
        "description": "开启白名单",
        "type": "bool",
        "default": false
      },
      "allowed_groups": {
        "description": "允许的群组",
        "type": "list",
        "default": []
      },
      "allowed_users": {
        "description": "允许的用户",
        "type": "list",
        "default": []
      }
    }
  },
  "permission_config": {
    "description": "权限提示配置",
    "type": "object",
    "items": {
      "no_permission_reply": {
        "description": "无权限提示语",
        "type": "string",
        "default": "❌ 您没有权限使用此功能"
      },
      "silent_on_no_permission": {
        "description": "无权限时静默",
        "hint": "开启后，无权限时不回复任何消息",
        "type": "bool",
        "default": false
      }
    }
  },
  "presets": {
    "description": "预设提示词",
    "type": "list",
    "default": []
  }
}
